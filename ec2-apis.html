<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">

<head>
    <!-- Google fonts! -->
    <link href='http://fonts.googleapis.com/css?family=Bitter:400,700,400italic|Patua+One' rel='stylesheet' type='text/css'>

    <title>Scheduling tasks in the cloud with EC2 APIs - justmytwospence</title>
    
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link href="http://spencerboucher.com//favicon.ico" rel="icon">

    <!-- Open Graph tags -->
        <meta property="og:site_name" content="justmytwospence" />
            <meta property="og:type" content="article"/>
            <meta property="og:title" content="Scheduling tasks in the cloud with EC2 APIs"/>
            <meta property="og:url" content="http://spencerboucher.com/ec2-apis.html"/>
            <meta property="og:description" content="Learning how to take full control of the cloud."/>
            <meta property="article:published_time" content="2014-01-12" />
            <meta property="article:section" content="Vizualization" />
            <meta property="article:tag" content="api" />
            <meta property="article:tag" content="auto scaling" />
            <meta property="article:tag" content="aws" />
            <meta property="article:tag" content="cloud" />
            <meta property="article:tag" content="cron" />
            <meta property="article:tag" content="ec2" />

    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://spencerboucher.com/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://spencerboucher.com/theme/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://spencerboucher.com/theme/css/pygments/github.css" rel="stylesheet">
        <link href="http://spencerboucher.com/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="http://spencerboucher.com/theme/css/style.css" type="text/css"/>

        <link href="http://spencerboucher.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="justmytwospence ATOM Feed"/>

<!-- MathJax script -->
<script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
<script type="text/javascript">
    init_mathjax = function() {
        if (window.MathJax) {
        // MathJax loaded
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
            },
            displayAlign: 'center', // Change this to 'center' to center equations.
            "HTML-CSS": {
                styles: {'.MathJax_Display': {"margin": 0}}
            }
        });
        MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
    }
}
init_mathjax();
</script>
    <link rel="stylesheet" href="/theme/css/knitr.css" type="text/css"/>
    <script src="http://spencerboucher.com/theme/js/knitr.js" type="text/javascript"></script> 

    <link rel="stylesheet" href="http://spencerboucher.com/theme/css/ipythonnb.css" type="test/css"/>


</head>

<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://spencerboucher.com/" class="navbar-brand">
justmytwospence            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="http://spencerboucher.com/pages/about.html">
                             About
                          </a></li>
                         <li><a href="http://spencerboucher.com/pages/map.html">
                             Map!
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                    <li><a href="http://github.com/justmytwospence">
                        <i class="fa fa-github-square fa-lg"></i><span class="icon-label">GitHub</span>
                    </a></li>
                    <li><a href="http://linkedin.com/in/spencerboucher">
                        <i class="fa fa-linkedin-square fa-lg"></i><span class="icon-label">LinkedIn</span>
                    </a></li>
                    <li><a href="feeds/all.atom.xml">
                        <i class="fa fa-rss-square fa-lg"></i><span class="icon-label">RSS</span>
                    </a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<div class="container">
    <div class="row">
        <div class="col-sm-9">
    

        <section id="content">
            <article>
                <header class="page-header">
                    <h1>Scheduling tasks in the cloud with <span class="caps">EC2</span>&nbsp;APIs</h1>
<footer class="post-info">
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2014-01-12T17:53:00"> Sun 12 January 2014</time>
    </span>


    <span>
        <i class="fa fa-folder-open"></i>
        <a href="http://spencerboucher.com/category/vizualization.html">Vizualization</a>
    </span>


	<span>
	<i class="fa fa-tag"></i>
		<a href="http://spencerboucher.com/tag/api.html">api</a>
	        /
		<a href="http://spencerboucher.com/tag/auto-scaling.html">auto scaling</a>
	        /
		<a href="http://spencerboucher.com/tag/aws.html">aws</a>
	        /
		<a href="http://spencerboucher.com/tag/cloud.html">cloud</a>
	        /
		<a href="http://spencerboucher.com/tag/cron.html">cron</a>
	        /
		<a href="http://spencerboucher.com/tag/ec2.html">ec2</a>

    
</footer><!-- /.post-info -->                </header>
                <div class="entry-content">
                    <p>This post is sort of an addendum to our <a href="http://www.spencerboucher.com/live-mapping/" title="Live mapping">live-mapping project</a>, but it should also be of use to anyone looking to run an arbitrary script on a recurring schedule. Originally, we set up a 24/7 instance on <a href="http://aws.amazon.com/ec2/">Amazon&#8217;s Elastic Compute Cloud</a> that ran a daily <code>cron</code> job. This works, but its a bit wasteful because we&#8217;re paying for 24 hours of cloud even though we&#8217;re only actually using it for maybe 5 minutes a&nbsp;day.  </p>
<p>Fortunately, Amazon provides a <a href="http://aws.amazon.com/developertools/">schmorgesborg</a> of command line interface (<span class="caps">CLI</span>) tools that allow us to manage our cloud instances more efficiently. Specifically, we want to schedule an instance to spin up only once a day, execute our script, then shut back down. To accomplish this, we will want three <span class="caps">CLI</span> tools: <a href="http://aws.amazon.com/developertools/368">the Amazon <span class="caps">EC2</span> <span class="caps">AMI</span> Tools</a>, <a href="http://aws.amazon.com/developertools/351">the Amazon <span class="caps">EC2</span> <span class="caps">API</span> Tools</a>,and <a href="http://aws.amazon.com/developertools/2535">the Auto Scaling Command Line Tool</a>. If you&#8217;re on a Mac, it&#8217;s way easier to get these with <a href="http://brew.sh/">Homebrew</a> than by downloading from Amazon&#8217;s&nbsp;website:</p>
<div class="highlight"><pre>brew install ec2-ami-tools <span class="c"># For creating an AMI from an existing machine</span>
brew install ec2-api-tools <span class="c"># For registering and launching instances</span>
brew install aws-as        <span class="c"># For creating auto scaling groups / defining schedules</span>
</pre></div>


<p>As an extra Homebrew bonus, running <code>brew info ec2-ami-tools</code>, <code>brew info ec2-api-tools</code>, and <code>brew info aws-as</code> will now tell us exactly what we need to do to get our authentication and environment variables all set up. First we are told to download the necessary .pem files from <a href="http://aws-portal.amazon.com/gp/aws/developer/account/index.html?action=access-key">this Amazon page</a> and place them into a new hidden directory of our home directory <code>.ec2</code>. Then we tell our command line where everything lives now by inserting the following lines into our <code>.bashrc</code>:</p>
<div class="highlight"><pre><span class="nb">export </span><span class="nv">EC2_PRIVATE_KEY</span><span class="o">=</span><span class="s2">&quot;$(/bin/ls &quot;</span><span class="nv">$HOME</span><span class="s2">&quot;/.ec2/pk-*.pem | /usr/bin/head -1)&quot;</span>
<span class="nb">export </span><span class="nv">EC2_CERT</span><span class="o">=</span><span class="s2">&quot;$(/bin/ls &quot;</span><span class="nv">$HOME</span><span class="s2">&quot;/.ec2/cert-*.pem | /usr/bin/head -1)&quot;</span>
<span class="nb">export </span><span class="nv">EC2_HOME</span><span class="o">=</span><span class="s2">&quot;/usr/local/Cellar/ec2-api-tools/1.6.12.0/libexec&quot;</span>
<span class="nb">export </span><span class="nv">AWS_AUTO_SCALING_HOME</span><span class="o">=</span><span class="s2">&quot;/usr/local/Cellar/auto-scaling/1.0.61.4/libexec&quot;</span>
<span class="nb">export </span><span class="nv">EC2_AMITOOL_HOME</span><span class="o">=</span><span class="s2">&quot;/usr/local/Cellar/ec2-ami-tools/1.4.0.9/libexec&quot;</span>
<span class="nb">export </span><span class="nv">EC2_REGION</span><span class="o">=</span><span class="s2">&quot;us-west-2&quot;</span>
<span class="nb">export </span><span class="nv">EC2_ZONE</span><span class="o">=</span><span class="k">${</span><span class="nv">EC2_REGION</span><span class="k">}</span>a
<span class="nb">export </span><span class="nv">EC2_URL</span><span class="o">=</span>https://<span class="nv">$EC2_REGION</span>.ec2.amazonaws.com
<span class="nb">export </span><span class="nv">AWS_AUTO_SCALING_URL</span><span class="o">=</span>https://autoscaling.<span class="nv">$EC2_REGION</span>.amazonaws.com
</pre></div>


<p>Its pretty simple, but if you have any trouble with this part, refer to the official <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/SettingUp_CommandLine.html">Amazon documentation for setting up the command line</a>.  </p>
<p>Because these environment variables are recognized out of the box by the <span class="caps">CLI</span> tools, we won&#8217;t need to point to our authentication keys or specify a region every time we make an <span class="caps">API</span> call and our next commands will be much more succinct. Note that every <span class="caps">EC2</span> instance is physically located at one of several regions; we are using us-west-2 because it happens to be where I spun up the existing instance that currently holds our &#8220;update.py&#8221; script, but any of them would probably work just fine for the simple job at&nbsp;hand.  </p>
<table>
  <tr>
    <th>Code</th>
    <th>Region</th>
  </tr>
  <tr>
    <td>ap-northeast-1</td>
    <td> Asia Pacific (Tokyo) Region</td>
  </tr>
  <tr>
    <td>ap-southeast-1</td>
    <td>Asia Pacific (Singapore) Region</td>
  </tr>
  <tr>
    <td>ap-southeast-2</td>
    <td>Asia Pacific (Sydney) Region</td>
  </tr>
  <tr>
    <td>eu-west-1</td>
    <td><span class="caps">EU</span> (Ireland) Region</td>
  </tr>
  <tr>
    <td>sa-east-1</td>
    <td>South America (Sao Paulo) Region</td>
  </tr>
  <tr>
    <td>us-east-1</td>
    <td><span class="caps">US</span> East (Northern Virginia) Region</td>
  </tr>
  <tr>
    <td>us-west-1</td>
    <td><span class="caps">US</span> West (Northern California) Region</td>
  </tr>
  <tr>
    <td>us-west-2</td>
    <td><span class="caps">US</span> West (Oregon) Region</td>
  </tr>
</table>

<p>So, first things first. We can&#8217;t just spin up an off-the-rack <span class="caps">EC2</span> instance every day, because we&#8217;ll run into the same problem that I originally had with my web host: the Python modules that we need won&#8217;t be installed. We <em>could</em> write a script that would install <code>pip</code> plus all of the requisite Python modules and run it first thing after we launch the instance, but there&#8217;s a better&nbsp;way:</p>
<div class="highlight"><pre>ec2-create-image i-8918e1be -n <span class="s2">&quot;Map Update Image&quot;</span>
</pre></div>


<p>This command from <code>ec2-ami-tools</code> creates an &#8220;Amazon Machine Image&#8221; of the instance that we previously had running and names it &#8220;Map Update Image&#8221;. A new image <span class="caps">ID</span> will now print to your console, <code>ami-fcdfb9cc</code> in my case. This is tantamount to cloning the instance, because we can now reference the new image <span class="caps">ID</span> when we spin up new instances and all of our modules, scripts, etc. will be there waiting for us. Note that I removed the instance&#8217;s <code>cron</code> job <em>before</em> creating the <span class="caps">AMI</span>, because we&#8217;ll now be handling the task scheduling from <em>outside</em> the instance, via <strong>autoscaling</strong>.  </p>
<p>Next let&#8217;s write a shell script that will execute our Python map-updating script, shoot us a diagnostic email, then shut down the instance that its running on. The idea here is that once a day we&#8217;re going to spin up an instance using our shiny new <span class="caps">AMI</span> and immediately run this new script (let&#8217;s call it &#8220;update.sh&#8221;) that will do its business and then promptly commit seppuku and stop charging us money. Eric Hammond has created a great template on <a href="http://alestic.com/2011/11/ec2-schedule-instance">his blog</a>, which I&#8217;ve modified below. Note the execution of our <a href="http://www.spencerboucher.com/live-mapping/" title="Live mapping">familiar</a> &#8220;update.py&#8221; script highlighted on line 4, and the apoptosis command on line&nbsp;46:</p>
<div class="highlight"><pre><span class="c">#!/bin/bash -x</span>
<span class="nb">exec</span> &gt; &gt;<span class="o">(</span>tee /var/log/user-data.log|logger -t user-data -s 2&gt;/dev/console<span class="o">)</span> 2&gt;&amp;1

/usr/bin/python /home/ubuntu/update.py <span class="c"># Run the script</span>

<span class="nv">EMAIL</span><span class="o">=</span>spencer.g.boucher@gmail.com

<span class="c"># Upgrade and install Postfix so we can send a sample email</span>
<span class="nb">export </span><span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive
apt-get update <span class="o">&amp;&amp;</span> apt-get upgrade -y <span class="o">&amp;&amp;</span> apt-get install -y postfix

<span class="c"># Get some information about the running instance</span>
<span class="nv">instance_id</span><span class="o">=</span><span class="k">$(</span>wget -qO- instance-data/latest/meta-data/instance-id<span class="k">)</span>
<span class="nv">public_ip</span><span class="o">=</span><span class="k">$(</span>wget -qO- instance-data/latest/meta-data/public-ipv4<span class="k">)</span>
<span class="nv">zone</span><span class="o">=</span><span class="k">$(</span>wget -qO- instance-data/latest/meta-data/placement/availability-zone<span class="k">)</span>
<span class="nv">region</span><span class="o">=</span><span class="k">$(</span>expr match <span class="nv">$zone</span> <span class="s1">&#39;\(.*\).&#39;</span><span class="k">)</span>
<span class="nv">uptime</span><span class="o">=</span><span class="k">$(</span>uptime<span class="k">)</span>

<span class="c"># Send status email</span>
/usr/sbin/sendmail -oi -t -f <span class="nv">$EMAIL</span> <span class="s">&lt;&lt;EOM</span>
<span class="s">From: $EMAIL</span>
<span class="s">To: $EMAIL</span>
<span class="s">Subject: Results of EC2 scheduled script</span>

<span class="s">This email message was generated on the following EC2 instance:</span>

<span class="s">  instance id: $instance_id</span>
<span class="s">  region:      $region</span>
<span class="s">  public ip:   $public_ip</span>
<span class="s">  uptime:      $uptime</span>

<span class="s">If the instance is still running, you can monitor the output of this</span>
<span class="s">job using a command like:</span>

<span class="s">  ssh ubuntu@$public_ip tail -1000f /var/log/user-data.log</span>

<span class="s">  ec2-describe-instances --region $region $instance_id</span>

<span class="s">EOM</span>

<span class="c"># Give the script and email some time to do their thing</span>
sleep 600 <span class="c"># 10 minutes</span>

<span class="c"># This will stop the EBS boot instance, stopping the hourly charges.</span>
<span class="c"># Have Auto Scaling terminate it, stopping the storage charges.</span>
shutdown -h now

<span class="nb">exit </span>0
</pre></div>


<p>Note that the user data script that we pass to the launch configuration executes with <em>root</em> permissions, not as the user &#8220;ubuntu&#8221; that you would typically log in as via <code>ssh</code>. Its probably best to be as explicit as possible when specifying path names in the cloud, the tilde operator might turn around and bite&nbsp;you.  </p>
<p>Now we need to create <strong>launch configuration</strong> that will basically do all the button-pushing that we would normally be doing at the <span class="caps">AWS</span> console <span class="caps">GUI</span>.  </p>
<p>Here we&nbsp;specify:</p>
<ul>
<li><span class="dquo">&#8220;</span>Micro&#8221; as our instance&nbsp;type.</li>
<li>Our shell script &#8220;update.sh&#8221; from step 2 as the &#8220;user-data-file&#8221;. User data files are passed into the instance and executed immediately when supplied in the launch configuration. They must be less than 16kb as I suppose they are stored on some ancillary server&nbsp;somewhere.</li>
<li>The <span class="caps">AMI</span> image that we cloned in step 1 from the instance that included our Python&nbsp;modules.</li>
<li>The name of the launch config; let&#8217;s call it&nbsp;&#8220;map-update-launch-config&#8221;.</li>
</ul>
<div class="highlight"><pre>as-create-launch-config
   --instance-type t1.micro
   --user-data-file ~/Desktop/update.sh
   --image-id ami-fcdfb9cc
   --launch-config <span class="s2">&quot;map-update-launch-config&quot;</span>
as-describe-launch-configs --headers
</pre></div>


<p>Note that the second line provides a list of all the launch configurations that have been&nbsp;created.  </p>
<p>We must also create an <strong>auto scaling group</strong>. These are typically used as a sort of container to which we can add/remove instances on a schedule or in response to heavy traffic, but we can also use it to schedule a single instance to flick on and off. We need to tell&nbsp;it:</p>
<ul>
<li>A name to assign the scaling group&nbsp;(&#8220;map-update-scale-group&#8221;).</li>
<li>The name of the launch configuration we created in step 3&nbsp;(&#8220;map-update-launch-config&#8221;).</li>
<li>Which availability zone we want to use (basically irrelevant; we set our environment variable <code>EC2_ZONE</code> to &#8220;a&#8221; earlier). <code>ec2-describe-available-zones</code> provides a list of the available&nbsp;zones</li>
<li>A minimum and maximum number of instances in the group. We&#8217;ll initialize these to&nbsp;zero.</li>
</ul>
<div class="highlight"><pre><span class="nv">title</span><span class="o">=</span><span class="s2">&quot;Create auto scaling group with launch configuration&quot;</span><span class="o">}</span>
as-create-auto-scaling-group
   --auto-scaling-group <span class="s2">&quot;map-update-scale-group&quot;</span>
   --launch-configuration <span class="s2">&quot;map-update-launch-config&quot;</span>
   --availability-zones <span class="s2">&quot;$EC2_ZONE&quot;</span>
   --min-size 0 --max-size 0
as-suspend-processes <span class="s2">&quot;map-update-scale-group&quot;</span>
   --processes ReplaceUnhealthy
as-describe-auto-scaling-groups --headers
</pre></div>


<p>In the second line, we are using <code>as-suspend-processes</code> to prevent the instance&#8217;s default behavior which is to attempt to restart after it is shut down. The third line provides a list of all the auto scaling groups that have been&nbsp;created.  </p>
<p>Last but not least, we are ready to assign a schedule to our auto scaling group. Here we create two: one to start the instance and one to terminate the instance. Astute readers will recall that &#8220;update.sh&#8221; already <em>stops</em> the instance so that we aren&#8217;t paying to have it running, but we also need to completely <em>terminate</em> the instance so that we aren&#8217;t paying to store information about it. Each schedule&nbsp;requires:</p>
<ul>
<li>A name (&#8220;map-update-start&#8221; <span class="amp">&amp;</span>&nbsp;&#8220;map-update-stop&#8221;).</li>
<li>The name of the auto scaling group we created in step 4&nbsp;(&#8220;map-update-scale-group&#8221;).</li>
<li>How we want to scale. By setting both <code>min-size</code> and <code>max-size</code> to 1, we are effectively turning on one instance. We later effectively turn that instance back off by setting both to&nbsp;0.</li>
<li>A &#8220;recurrence,&#8221; ie when to occur. This flag uses the same syntax that <code>cron</code> does. Here we set the instance to launch at midnight <span class="caps">UTC</span> (<code>0 0 * * *</code>), and terminate 15 minutes later (<code>15 0 * * *</code>). Recall that our script already stops the instance 10 minutes after execution, so 15 minutes is playing it&nbsp;safe.</li>
</ul>
<div class="highlight"><pre>as-put-scheduled-update-group-action
   --name <span class="s2">&quot;map-update-start&quot;</span>
   --auto-scaling-group <span class="s2">&quot;map-update-scale-group&quot;</span>
   --min-size 1 --max-size 1
   --recurrence <span class="s2">&quot;0 0 * * *&quot;</span>
as-put-scheduled-update-group-action
   --name <span class="s2">&quot;map-update-stop&quot;</span>
   --auto-scaling-group <span class="s2">&quot;map-update-scale-group&quot;</span>
   --min-size 0 --max-size 0
   --recurrence <span class="s2">&quot;15 0 * * *&quot;</span>
as-describe-scheduled-actions --headers
</pre></div>


<p>As before, the third line provides a list of the actions that have been&nbsp;scheduled.  </p>
<p>And thats it! We are now only paying for 10 or 15 minutes of cloud per day, as opposed to 1,440 of them. To review the timeline we have created in this example: our auto scaling group boots up an instance up at midnight <span class="caps">UTC</span> that immediately executes &#8220;update.sh&#8221;. This automatically executes &#8220;update.py&#8221; and shoots us a diagnostic email. It then waits 10 minutes to make sure everything has time to run, before stopping the instance. 5 minutes after <em>that</em> the auto scaling group then completely terminates the&nbsp;instance.  </p>
<p>Other great&nbsp;resources:</p>
<ul>
<li><a href="http://docs.aws.amazon.com/AutoScaling/latest/DeveloperGuide/schedule_time.html">Official Amazon documentation for scheduling auto scaling&nbsp;groups</a></li>
<li><a href="http://alestic.com/2011/11/ec2-schedule-instance">Running <span class="caps">EC2</span> Instances on a Recurring Schedule with Auto&nbsp;Scaling</a></li>
<li><a href="http://www.robertsindall.co.uk/blog/how-to-use-amazons-auto-scaling-groups/">Summary of <span class="caps">API</span>&nbsp;commands</a></li>
<li><a href="http://www.cardinalpath.com/autoscaling-your-website-with-amazon-web-services-part-2/">Auto Scaling Your Website with Amazon Web&nbsp;Services</a></li>
</ul>
                </div>
                <!-- /.entry-content -->
    <hr />
    <section class="comments" id="comments">
        <h2>Comments</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'justmytwospence'; // required: replace example with your forum shortname
            var disqus_identifier = 'ec2-apis';
            var disqus_url = 'http://spencerboucher.com/ec2-apis.html';
            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
            </article>
        </section>
    </div>


<div class="col-sm-3" id="sidebar">


    <section class = "panel panel-default text-center">
        <div class="panel-heading">
            <a href="http://spencerboucher.com/categories">
                <h4 class="panel-title">
                    <i class="fa fa-folder-open fa-lg"></i>
                    <span class="icon-label">Categories</span>
                </h4>
            </a>
        </div>
        <div class="list-group" id="categories">
                <a class="list-group-item " href="http://spencerboucher.com/category/design.html">
                    <h4>Design</h4>
                </a>
                <a class="list-group-item " href="http://spencerboucher.com/category/misc.html">
                    <h4>Misc</h4>
                </a>
                <a class="list-group-item " href="http://spencerboucher.com/category/python.html">
                    <h4>Python</h4>
                </a>
                <a class="list-group-item " href="http://spencerboucher.com/category/r.html">
                    <h4>R</h4>
                </a>
                <a class="list-group-item active" href="http://spencerboucher.com/category/vizualization.html">
                    <h4>Vizualization</h4>
                </a>
        </div>
    </section>

        <section class = "panel panel-default text-center">
            <div class="panel-heading">
                <a href="http://spencerboucher.com/tags">
                    <h4 class="panel-title">
                        <i class="fa fa-tags fa-lg"></i>
                        <span class="icon-label">Tags</span>
                    </h4>
                </a>
            </div>
            <div class="list-group list-inline tagcloud" id="tags">
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/andrew-ng.html">
                            andrew ng
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-3" href="http://spencerboucher.com/tag/api.html">
                            api
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/approximation.html">
                            approximation
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/auto-scaling.html">
                            auto scaling
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-3" href="http://spencerboucher.com/tag/aws.html">
                            aws
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-3" href="http://spencerboucher.com/tag/brain.html">
                            brain
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/cartodb.html">
                            cartoDB
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-3" href="http://spencerboucher.com/tag/cartography.html">
                            cartography
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/cloud.html">
                            cloud
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/college.html">
                            college
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/color.html">
                            color
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/coursera.html">
                            Coursera
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-3" href="http://spencerboucher.com/tag/cron.html">
                            cron
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/crowdsourcing.html">
                            crowdsourcing
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-3" href="http://spencerboucher.com/tag/ec2.html">
                            ec2
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/economics.html">
                            economics
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-1" href="http://spencerboucher.com/tag/education.html">
                            education
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/entrepeneurship.html">
                            entrepeneurship
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/freakonomics.html">
                            freakonomics
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/freesurfer.html">
                            Freesurfer
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/gamification.html">
                            gamification
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/hierarchy-of-needs.html">
                            Hierarchy of needs
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/higher-education.html">
                            higher education
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/holo.html">
                            holo
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/ideas-worth-spreading.html">
                            ideas worth spreading
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/kaggle.html">
                            kaggle
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/latex.html">
                            latex
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-3" href="http://spencerboucher.com/tag/machine-learning.html">
                            machine learning
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/map.html">
                            map
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/maps.html">
                            maps
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/maslow.html">
                            Maslow
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/mooc.html">
                            MOOC
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/neuroimaging.html">
                            neuroimaging
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-1" href="http://spencerboucher.com/tag/neuroscience.html">
                            neuroscience
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/politics.html">
                            politics
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/prediction.html">
                            prediction
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/predictions.html">
                            predictions
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/quantifiedself.html">
                            quantifiedSelf
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-1" href="http://spencerboucher.com/tag/r.html">
                            R
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/science.html">
                            science
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-3" href="http://spencerboucher.com/tag/shiny.html">
                            Shiny
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/silicon-valley.html">
                            silicon valley
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/solarized.html">
                            solarized
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/splash.html">
                            splash
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/stanford.html">
                            stanford
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-3" href="http://spencerboucher.com/tag/stepwise.html">
                            stepwise
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/ted.html">
                            TED
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/tex.html">
                            tex
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/typesetting.html">
                            typesetting
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a class="tag-5" href="http://spencerboucher.com/tag/writelatex.html">
                            writelatex
                        </a>
                    </li>
            </div>
        </section>  


	<!-- no header
    <li class="list-group-item"><h4><i class="fa fa-twitter fa-lg"></i><span class="icon-label">Latest Tweets</span></h4></li>
    -->

    <div id="twitter_timeline">
        <a class="twitter-timeline" data-chrome="noheader" href="https://twitter.com/justmytwospence" data-widget-id="413946059455361024">Tweets by justmytwospence</a>
    </div>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

</div>

    </div>
</div>

<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2014 Spencer Boucher
            &middot; Powered by <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>, <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>, <a href="http://pages.github.com/" target="_blank">GitHub Pages</a>, and Viewers Like You         </div>
         <div class="col-xs-2"><p class="pull-right"><a href="#"><i class="fa fa-arrow-up"></i> Top</p></a></div>
      </div>
   </div>
</footer>
<script src="http://code.jquery.com/jquery.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://spencerboucher.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://spencerboucher.com/theme/js/respond.min.js"></script>

    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'justmytwospence'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>


</body>

</html>